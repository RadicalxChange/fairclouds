---
// don't prerender this component so we can get fresh weather data from the api
export const prerender = false;
const WEATHER_KEY = import.meta.env.WEATHER_KEY;

const response = await fetch(
  `https://api.openweathermap.org/data/2.5/weather?lat=-30.027115&lon=-65.201732&appid=${WEATHER_KEY}&units=metric`,
);
const data = await response.json();

let weather = data.weather[0].description;
weather = weather.charAt(0).toUpperCase() + weather.slice(1);
const temp = data.main.temp;
// const icon = data.weather[0].icon;
//

// use headers to cache for 4hrs
---

<p>{weather}, {temp}Â°C</p>
